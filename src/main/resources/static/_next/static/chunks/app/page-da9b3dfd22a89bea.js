(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3792:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>a});var s=l(5155),n=l(2115);function a(){let[e,t]=(0,n.useState)(null),[l,a]=(0,n.useState)(null),[r,o]=(0,n.useState)(new Date().toISOString().split("T")[0]);console.log("Data:",r);let i=async()=>{if(!l)return;let s=new FormData;Array.from(l).forEach(e=>{s.append("files",e)});try{let l=await fetch("http://localhost:8080/api/upload?dueDate=".concat(r),{method:"POST",body:s});t(await l.json()),l.ok?console.log("Resposta do backend:",e):alert("Erro no upload!")}catch(e){console.error("Erro ao enviar arquivos:",e)}};return(null==e?void 0:e.length)===0?(0,s.jsxs)("section",{className:"relative min-h-screen",children:[(0,s.jsxs)("div",{className:"flex-1 items-center justify-center flex min-h-screen flex-col",children:[(0,s.jsx)("h1",{className:"text-xl",children:"Nenhuma ocorr\xeancia encontrada"}),(0,s.jsx)("p",{className:"text-neutral-500",children:"Tente novamente"})]}),(0,s.jsx)("footer",{className:"border-t border-gray-200 w-full p-6 flex justify-end fixed bottom-0 left-0 bg-white",children:(0,s.jsx)("button",{className:"text-lg px-4 py-2 bg-green-600 text-white font-semibold rounded cursor-pointer disabled:cursor-not-allowed",onClick:()=>{t(null)},children:"Nova Consulta"})})]}):e?(0,s.jsxs)("section",{className:"relative min-h-screen",children:[(0,s.jsxs)("div",{className:"flex-1 p-8 min-w-full pb-[100px]",children:[(0,s.jsxs)("h1",{className:"text-xl font-semibold text-neutral-800",children:[e.length," ",e.length>1?"ocorr\xeancias encontradas":"ocorr\xeancia encontrada"]}),e.map((e,t)=>(0,s.jsxs)("div",{className:"mt-4 p-4 border-dashed border-neutral-100 border-2 rounded-lg flex flex-col gap-2",children:[(0,s.jsx)("b",{children:e.description}),(0,s.jsxs)("p",{children:["Data: ",e.date]}),(0,s.jsxs)("p",{children:["Data de vencimento: ",e.dueDate]}),(0,s.jsxs)("p",{children:["Data de emiss\xe3o: ",e.issueDate]}),(0,s.jsxs)("p",{children:["Arquivo:"," ",(0,s.jsx)("span",{className:"font-mono inline-block bg-neutral-100 px-2 py-0.5 rounded text-sm font-medium",children:e.fileName})]})]},t))]}),(0,s.jsx)("footer",{className:"border-t border-gray-200 w-full p-6 flex justify-end fixed bottom-0 left-0 bg-white",children:(0,s.jsx)("button",{className:"text-lg px-4 py-2 bg-green-600 text-white font-semibold rounded cursor-pointer disabled:cursor-not-allowed",onClick:()=>{t(null),a(null),o("")},children:"Nova Consulta"})})]}):(0,s.jsxs)("div",{className:"min-h-[100vh] flex flex-col justify-between items-center",children:[(0,s.jsx)("div",{className:"flex-1 flex flex-col justify-center items-center p-8 w-[800px]",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium mb-2 text-neutral-500",children:"Selecione os Arquivos"}),(0,s.jsx)("input",{className:"px-4 py-2 bg-green-600 text-white font-semibold rounded cursor-pointer hover:bg-green-700 transition-all",type:"file",accept:".txt",multiple:!0,onChange:e=>{a(e.target.files)}}),(0,s.jsxs)("div",{className:"mt-4 w-full border-dashed border-neutral-100 border-2 rounded-lg p-4",children:[(0,s.jsx)("span",{className:"block text-sm text-center font-medium text-neutral-500 ".concat(l?"mb-2":""),children:l?"Arquivos selecionados":"Nenhum arquivo selecionado"}),(0,s.jsx)("div",{className:"flex gap-4 flex-wrap justify-center",children:l&&Array.from(l).map((e,t)=>(0,s.jsx)("div",{className:"bg-neutral-100 px-4 py-2 rounded text-sm font-semibold",children:(0,s.jsx)("p",{children:e.name})},t))})]}),(0,s.jsx)("h3",{className:"font-medium mt-6 mb-2 text-neutral-500",children:"Insira a data de vencimento"}),(0,s.jsx)("input",{onChange:e=>{var t;let[l,s,n]=(null!==(t=e.target.value)&&void 0!==t?t:" ").split("-");o("".concat(n,"-").concat(s,"-").concat(l))},defaultValue:r,type:"date",className:"bg-neutral-50 px-4 py-2 rounded"})]})}),(0,s.jsx)("footer",{className:"border-t border-gray-200 w-full p-6 flex justify-end",children:(0,s.jsx)("button",{className:"text-lg px-4 py-2 bg-green-600 text-white font-semibold rounded cursor-pointer disabled:cursor-not-allowed disabled:bg-neutral-200 disabled:text-neutral-500",type:"submit",onClick:i,disabled:!l,children:"Extrair Dados"})})]})}},7183:(e,t,l)=>{Promise.resolve().then(l.bind(l,3792))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(7183)),_N_E=e.O()}]);